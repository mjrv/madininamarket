{% extends 'front.html.twig' %}
{% block body %}
<div class="products-content">
	{% for item in items %}
		<div class= "item col-sm-3">
			{% for pic in item.picture %}
				{% if loop.first %}
					<a href="{{path("show_product_details",{'slug': item.slug})}} "> <img src="{{asset(pic.url)}}" alt="{{item.name}}" class="img-responsive"></a>
				{% endif %}
			{% endfor %}

			<p>{{item.name}}</p> 	
			{{item.priceHt|tva(item.tva.value)}} €

			{% if item.stock > 0 %}
				<a href="{{path("addToCart",{'slug': item.slug} )}} " class="btn item-button">Ajouter au panier</a>
			{% else %}
				<a href="{{path('notifyMe',{'slug': item.slug})}}" class="btn item-stock">Plus de stock... <span>souhaitez vous etre informé d'un retour en stock</span></a>
			{% endif %}
		</div>
	{% endfor %}
</div>

{% endblock %}

{% block banderole %}
	{% for mag in shop %}
	    
	  <div class="tab-pane {% if loop.first %}active{% endif %}">
	  	<a href="{{path("shop_show_details",{"slug":mag.slug})}} ">
	  		<img src="{{mag.cover}} " alt="cover">
	  	</a>
	  </div>

	{% endfor %}
{% endblock %}

{% block javascripts %}
    <script>
    	var myIndex = 0;
		function carousel() 
		{
		    var i;
		    var x = document.getElementsByClassName("tab-pane");
		    for (i = 0; i < x.length; i++) {
		       x[i].style.display = "none";  
		    }
		    myIndex++;
		    if (myIndex > x.length) {myIndex = 1}    
		    x[myIndex-1].style.display = "block";  
		    setTimeout(carousel, 3000); // Change image every x seconds

		}

		carousel();
    </script>
{% endblock %}